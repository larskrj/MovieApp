<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Filmer</title>    
    <link type="text/css" rel="stylesheet" href="stylesheets/style.css" />
    <link type="text/css" rel="stylesheet" href="stylesheets/tablesorter.css" />
    <link type="text/css" rel="stylesheet" href="stylesheets/jquery.lightbox-0.5.css" />    
    <link type="text/css" rel="Stylesheet" href="stylesheets/jquery-ui/jquery-ui-1.8.22.custom.css"/>       
</head>
<body>
    <div class="page">
        <header>            
        </header>
        <section id="main">
            
	<h2>
		Filmer</h2>
	<div id="filmer">
		
		<table id="filmtabell" class="tablesorter" data-url="/api/movies">
			<thead>
				<tr>					
					<th>
						Tittel
					</th>
					<th>
						Regissør
					</th>
					<th>
						Lanseringsdato
					</th>					
					<th>
						Bilder
					</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
		<input type="button" id="nullstillFilmer" value="Nullstill filmer" />
	</div>
	<h3>
		Ny film</h3>
	<div id="nyFilm">
		<form action="/api/movies" method="POST" id="nyFilmSkjema">
			<table>
				<tr>
					<th>
						Tittel:
					</th>
					<td>
						<input type="text" name="tittel" id="tittel" class="required" />
					</td>
				</tr>
				<tr>
					<th>
						Regissør:
					</th>
					<td>
						<input type="text" name="regissor" id="regissor" />
					</td>
				</tr>
				<tr>
					<th>
						Lanseringdato:
					</th>
					<td>
						<input type="text" name="lanseringsdato" id="lanseringsdato" class="required date datepicker" />
					</td>
				</tr>				
			</table>
			<input type="reset" value="Tøm skjema" id="tomSkjema" />
			<input type="submit" id="leggTilFilm" value="Legg til film" />
		</form>
	</div>
	<div id="nyttBilde" title="Legg til bilde">
		<form id="nyttBildeSkjema">
			<input type="hidden" name="id" id="movieId" value="" />
			URL:
			<input type="text" name="url" id="imageUrl" />
		</form>
	</div>

        </section>
        <footer>
        </footer>
    </div>
    <!-- libs -->
    <script type="text/javascript" src="javascripts/libs/jquery-1.8.0.js"></script>
    <script type="text/javascript" src="javascripts/libs/jquery-ui-1.8.22.custom.js"></script>
    <script type="text/javascript" src="javascripts/libs/jquery.validate-1.8.1.js"> </script>
    <script type="text/javascript" src="javascripts/libs/jquery.tablesorter.js"> </script>
    <script type="text/javascript" src="javascripts/libs/jquery.lightbox-0.5.js"> </script>
    <script type="text/javascript" src="javascripts/libs/jquery-pubsub.js"></script>
    <script type="text/javascript" src="javascripts/libs/localization/methods_de.js"> </script>
    
    <!-- scripts -->
    <script type="text/javascript" src="javascripts/utils.js"> </script>
    <script type="text/javascript" src="javascripts/messages.js"></script>
    <script type="text/javascript" src="javascripts/movieApi.js"> </script>
    <script type="text/javascript" src="javascripts/plugins.js"> </script>
    <script type="text/javascript" src="javascripts/imageDialog.js"></script>
    <script type="text/javascript" src="javascripts/movieTable.js"></script>
    <script type="text/javascript" src="javascripts/movieForm.js"></script>
    <script type="text/javascript" src="javascripts/movies.js"> </script>
      
    <script type="text/javascript">
        var app = app || {};
        app.settings = app.settings || {
            movieUrl: '/api/movies',
            imageUrl: '/api/movies/:id/images'
        };

        $(function () {
            app.movies.init(
                $("#filmtabell"),
                $("#nyFilmSkjema"),         
                $("#nullstillFilmer"),
                $("#nyttBilde"));
        });
    </script>

    <script>
        $(function () {
            $("header").load("meny.html");
        });
    </script>
</body>
</html>